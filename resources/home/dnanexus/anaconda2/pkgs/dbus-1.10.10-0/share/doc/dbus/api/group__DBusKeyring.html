<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>D-Bus: keyring class</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>keyring class<br>
<small>
[<a class="el" href="group__DBusInternals.html">D-Bus secret internal implementation details</a>]</small>
</h1><a class="el" href="structDBusKeyring.html">DBusKeyring</a> data structure.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structDBusKeyring.html">DBusKeyring</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DBusKeyring.html#gcbe59117a5f042a680991461e6d2e20f">_dbus_keyring_ref</a> (<a class="el" href="structDBusKeyring.html">DBusKeyring</a> *keyring)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Increments reference count of the keyring.  <a href="#gcbe59117a5f042a680991461e6d2e20f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DBusKeyring.html#gdd42b029d08dc477b6847e91bdcb23ca">_dbus_keyring_unref</a> (<a class="el" href="structDBusKeyring.html">DBusKeyring</a> *keyring)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decrements refcount and finalizes if it reaches zero.  <a href="#gdd42b029d08dc477b6847e91bdcb23ca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structDBusKeyring.html">DBusKeyring</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DBusKeyring.html#g6dad1720cf97ca6017c39330bec8d09f">_dbus_keyring_new_for_credentials</a> (<a class="el" href="structDBusCredentials.html">DBusCredentials</a> *credentials, const <a class="el" href="structDBusString.html">DBusString</a> *context, <a class="el" href="structDBusError.html">DBusError</a> *error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new keyring that lives in the ~/.dbus-keyrings directory of the user represented by <code>credentials</code>.  <a href="#g6dad1720cf97ca6017c39330bec8d09f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DBusTypes.html#g39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DBusKeyring.html#g5bbeeef1ba831a89d7f0f211e886e7c2">_dbus_keyring_validate_context</a> (const <a class="el" href="structDBusString.html">DBusString</a> *context)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks whether the context is a valid context.  <a href="#g5bbeeef1ba831a89d7f0f211e886e7c2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DBusKeyring.html#g0daf16cfb75ab28d67d5dfa881f457a6">_dbus_keyring_get_best_key</a> (<a class="el" href="structDBusKeyring.html">DBusKeyring</a> *keyring, <a class="el" href="structDBusError.html">DBusError</a> *error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets a recent key to use for authentication.  <a href="#g0daf16cfb75ab28d67d5dfa881f457a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DBusTypes.html#g39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DBusKeyring.html#g5ef8c7224182f27ff56b3105c6963cfd">_dbus_keyring_is_for_credentials</a> (<a class="el" href="structDBusKeyring.html">DBusKeyring</a> *keyring, <a class="el" href="structDBusCredentials.html">DBusCredentials</a> *credentials)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks whether the keyring is for the same user as the given credentials.  <a href="#g5ef8c7224182f27ff56b3105c6963cfd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__DBusTypes.html#g39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DBusKeyring.html#g6adfb998247ab4d0c1d5652f59c354e4">_dbus_keyring_get_hex_key</a> (<a class="el" href="structDBusKeyring.html">DBusKeyring</a> *keyring, int key_id, <a class="el" href="structDBusString.html">DBusString</a> *hex_key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the hex-encoded secret key for the given ID.  <a href="#g6adfb998247ab4d0c1d5652f59c354e4"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="structDBusKeyring.html">DBusKeyring</a> data structure. 
<p>
Types and functions related to <a class="el" href="structDBusKeyring.html">DBusKeyring</a>. <a class="el" href="structDBusKeyring.html">DBusKeyring</a> is intended to manage cookies used to authenticate clients to servers. This is essentially the "verify that client can read the user's homedir" authentication mechanism. Both client and server must have access to the homedir.<p>
The secret keys are not kept in locked memory, and are written to a file in the user's homedir. However they are transient (only used by a single server instance for a fixed period of time, then discarded). Also, the keys are not sent over the wire.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd>there's a memory leak on some codepath in here, I saw it once when running make check - probably some specific initial cookies present in the cookie file, then depending on what we do with them. </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g0daf16cfb75ab28d67d5dfa881f457a6"></a><!-- doxytag: member="dbus-keyring.c::_dbus_keyring_get_best_key" ref="g0daf16cfb75ab28d67d5dfa881f457a6" args="(DBusKeyring *keyring, DBusError *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _dbus_keyring_get_best_key           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusKeyring.html">DBusKeyring</a> *&nbsp;</td>
          <td class="paramname"> <em>keyring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusError.html">DBusError</a> *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets a recent key to use for authentication. 
<p>
If no recent key exists, creates one. Returns the key ID. If a key can't be written to the keyring file so no recent key can be created, returns -1. All valid keys are &gt; 0.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keyring</em>&nbsp;</td><td>the keyring </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>error on failure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>key ID to use for auth, or -1 on failure </dd></dl>

<p>
Definition at line <a class="el" href="dbus-keyring_8c-source.html#l00945">945</a> of file <a class="el" href="dbus-keyring_8c-source.html">dbus-keyring.c</a>.
<p>
References <a class="el" href="dbus-protocol_8h-source.html#l00355">DBUS_ERROR_FAILED</a>, <a class="el" href="dbus-errors_8c-source.html#l00243">dbus_set_error_const()</a>, <a class="el" href="dbus-keyring_8c-source.html#l00094">DBusKey::id</a>, and <a class="el" href="group__DBusMacros.html#ga8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>.
</div>
</div><p>
<a class="anchor" name="g6adfb998247ab4d0c1d5652f59c354e4"></a><!-- doxytag: member="dbus-keyring.c::_dbus_keyring_get_hex_key" ref="g6adfb998247ab4d0c1d5652f59c354e4" args="(DBusKeyring *keyring, int key_id, DBusString *hex_key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#g39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> _dbus_keyring_get_hex_key           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusKeyring.html">DBusKeyring</a> *&nbsp;</td>
          <td class="paramname"> <em>keyring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusString.html">DBusString</a> *&nbsp;</td>
          <td class="paramname"> <em>hex_key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the hex-encoded secret key for the given ID. 
<p>
Returns <a class="el" href="group__DBusMacros.html#ga93f0eb578d23995850d61f7d61c55c1">FALSE</a> if not enough memory. Returns <a class="el" href="group__DBusMacros.html#ga8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> but empty key on any other error such as unknown key ID.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keyring</em>&nbsp;</td><td>the keyring </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key_id</em>&nbsp;</td><td>the key ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hex_key</em>&nbsp;</td><td>string to append hex-encoded key to </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group__DBusMacros.html#ga8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> if we had enough memory </dd></dl>

<p>
Definition at line <a class="el" href="dbus-keyring_8c-source.html#l01003">1003</a> of file <a class="el" href="dbus-keyring_8c-source.html">dbus-keyring.c</a>.
<p>
References <a class="el" href="dbus-string_8c-source.html#l02259">_dbus_string_hex_encode()</a>, <a class="el" href="dbus-keyring_8c-source.html#l00117">keys</a>, <a class="el" href="dbus-keyring_8c-source.html#l00118">n_keys</a>, <a class="el" href="group__DBusMacros.html#g070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="dbus-keyring_8c-source.html#l00101">DBusKey::secret</a>, and <a class="el" href="group__DBusMacros.html#ga8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>.
</div>
</div><p>
<a class="anchor" name="g5ef8c7224182f27ff56b3105c6963cfd"></a><!-- doxytag: member="dbus-keyring.c::_dbus_keyring_is_for_credentials" ref="g5ef8c7224182f27ff56b3105c6963cfd" args="(DBusKeyring *keyring, DBusCredentials *credentials)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#g39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> _dbus_keyring_is_for_credentials           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusKeyring.html">DBusKeyring</a> *&nbsp;</td>
          <td class="paramname"> <em>keyring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusCredentials.html">DBusCredentials</a> *&nbsp;</td>
          <td class="paramname"> <em>credentials</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks whether the keyring is for the same user as the given credentials. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keyring</em>&nbsp;</td><td>the keyring </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>credentials</em>&nbsp;</td><td>the credentials to check</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group__DBusMacros.html#ga8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> if the keyring belongs to the given user </dd></dl>

<p>
Definition at line <a class="el" href="dbus-keyring_8c-source.html#l00984">984</a> of file <a class="el" href="dbus-keyring_8c-source.html">dbus-keyring.c</a>.
<p>
References <a class="el" href="dbus-credentials_8c-source.html#l00552">_dbus_credentials_same_user()</a>, and <a class="el" href="dbus-keyring_8c-source.html#l00119">credentials</a>.
</div>
</div><p>
<a class="anchor" name="g6dad1720cf97ca6017c39330bec8d09f"></a><!-- doxytag: member="dbus-keyring.c::_dbus_keyring_new_for_credentials" ref="g6dad1720cf97ca6017c39330bec8d09f" args="(DBusCredentials *credentials, const DBusString *context, DBusError *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDBusKeyring.html">DBusKeyring</a>* _dbus_keyring_new_for_credentials           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusCredentials.html">DBusCredentials</a> *&nbsp;</td>
          <td class="paramname"> <em>credentials</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structDBusString.html">DBusString</a> *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusError.html">DBusError</a> *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new keyring that lives in the ~/.dbus-keyrings directory of the user represented by <code>credentials</code>. 
<p>
If the <code>credentials</code> are <a class="el" href="group__DBusMacros.html#g070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> or empty, uses those of the current process.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>credentials</em>&nbsp;</td><td>a set of credentials representing a user or <a class="el" href="group__DBusMacros.html#g070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>which keyring to get </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>return location for errors </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the keyring or <a class="el" href="group__DBusMacros.html#g070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> on error </dd></dl>

<p>
Definition at line <a class="el" href="dbus-keyring_8c-source.html#l00705">705</a> of file <a class="el" href="dbus-keyring_8c-source.html">dbus-keyring.c</a>.
<p>
References <a class="el" href="dbus-sysdeps-unix_8c-source.html#l04151">_dbus_append_keyring_directory_for_credentials()</a>, <a class="el" href="dbus-internals_8h-source.html#l00140">_dbus_assert</a>, <a class="el" href="dbus-sysdeps-unix_8c-source.html#l04378">_dbus_check_setuid()</a>, <a class="el" href="dbus-sysdeps-unix_8c-source.html#l02990">_dbus_concat_dir_and_file()</a>, <a class="el" href="dbus-sysdeps-unix_8c-source.html#l02956">_dbus_create_directory()</a>, <a class="el" href="dbus-sysdeps-unix_8c-source.html#l02621">_dbus_credentials_add_from_current_process()</a>, <a class="el" href="dbus-credentials_8c-source.html#l00408">_dbus_credentials_are_anonymous()</a>, <a class="el" href="dbus-credentials_8c-source.html#l00523">_dbus_credentials_copy()</a>, <a class="el" href="dbus-credentials_8c-source.html#l00095">_dbus_credentials_new_from_current_process()</a>, <a class="el" href="dbus-credentials_8c-source.html#l00130">_dbus_credentials_unref()</a>, <a class="el" href="dbus-keyring_8c-source.html#l00677">_dbus_keyring_unref()</a>, <a class="el" href="dbus-keyring_8c-source.html#l00849">_dbus_keyring_validate_context()</a>, <a class="el" href="dbus-string_8c-source.html#l00935">_dbus_string_append()</a>, <a class="el" href="dbus-string_8c-source.html#l01283">_dbus_string_copy()</a>, <a class="el" href="dbus-string_8c-source.html#l00259">_dbus_string_free()</a>, <a class="el" href="dbus-string_8c-source.html#l00175">_dbus_string_init()</a>, <a class="el" href="dbus-keyring_8c-source.html#l00119">credentials</a>, <a class="el" href="dbus-protocol_8h-source.html#l00355">DBUS_ERROR_FAILED</a>, <a class="el" href="dbus-errors_8c-source.html#l00211">dbus_error_free()</a>, <a class="el" href="dbus-errors_8c-source.html#l00188">dbus_error_init()</a>, <a class="el" href="dbus-protocol_8h-source.html#l00357">DBUS_ERROR_NO_MEMORY</a>, <a class="el" href="dbus-protocol_8h-source.html#l00369">DBUS_ERROR_NOT_SUPPORTED</a>, <a class="el" href="dbus-errors_8c-source.html#l00354">dbus_set_error()</a>, <a class="el" href="dbus-errors_8c-source.html#l00243">dbus_set_error_const()</a>, <a class="el" href="dbus-keyring_8c-source.html#l00114">directory</a>, <a class="el" href="group__DBusMacros.html#ga93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="el" href="dbus-keyring_8c-source.html#l00115">filename</a>, <a class="el" href="dbus-keyring_8c-source.html#l00116">filename_lock</a>, <a class="el" href="dbus-errors_8h-source.html#l00051">DBusError::message</a>, <a class="el" href="group__DBusMacros.html#g070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, and <a class="el" href="group__DBusMacros.html#ga8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>.
</div>
</div><p>
<a class="anchor" name="gcbe59117a5f042a680991461e6d2e20f"></a><!-- doxytag: member="dbus-keyring.c::_dbus_keyring_ref" ref="gcbe59117a5f042a680991461e6d2e20f" args="(DBusKeyring *keyring)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDBusKeyring.html">DBusKeyring</a>* _dbus_keyring_ref           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusKeyring.html">DBusKeyring</a> *&nbsp;</td>
          <td class="paramname"> <em>keyring</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Increments reference count of the keyring. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keyring</em>&nbsp;</td><td>the keyring </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the keyring </dd></dl>

<p>
Definition at line <a class="el" href="dbus-keyring_8c-source.html#l00663">663</a> of file <a class="el" href="dbus-keyring_8c-source.html">dbus-keyring.c</a>.
<p>
References <a class="el" href="dbus-keyring_8c-source.html#l00113">refcount</a>.
</div>
</div><p>
<a class="anchor" name="gdd42b029d08dc477b6847e91bdcb23ca"></a><!-- doxytag: member="dbus-keyring.c::_dbus_keyring_unref" ref="gdd42b029d08dc477b6847e91bdcb23ca" args="(DBusKeyring *keyring)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_keyring_unref           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusKeyring.html">DBusKeyring</a> *&nbsp;</td>
          <td class="paramname"> <em>keyring</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Decrements refcount and finalizes if it reaches zero. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keyring</em>&nbsp;</td><td>the keyring </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dbus-keyring_8c-source.html#l00677">677</a> of file <a class="el" href="dbus-keyring_8c-source.html">dbus-keyring.c</a>.
<p>
References <a class="el" href="dbus-credentials_8c-source.html#l00130">_dbus_credentials_unref()</a>, <a class="el" href="dbus-string_8c-source.html#l00259">_dbus_string_free()</a>, <a class="el" href="dbus-keyring_8c-source.html#l00119">credentials</a>, <a class="el" href="dbus-memory_8c-source.html#l00701">dbus_free()</a>, <a class="el" href="dbus-keyring_8c-source.html#l00114">directory</a>, <a class="el" href="dbus-keyring_8c-source.html#l00115">filename</a>, <a class="el" href="dbus-keyring_8c-source.html#l00116">filename_lock</a>, <a class="el" href="dbus-keyring_8c-source.html#l00117">keys</a>, <a class="el" href="dbus-keyring_8c-source.html#l00118">n_keys</a>, and <a class="el" href="dbus-keyring_8c-source.html#l00113">refcount</a>.
<p>
Referenced by <a class="el" href="dbus-auth_8c-source.html#l02380">_dbus_auth_unref()</a>, and <a class="el" href="dbus-keyring_8c-source.html#l00705">_dbus_keyring_new_for_credentials()</a>.
</div>
</div><p>
<a class="anchor" name="g5bbeeef1ba831a89d7f0f211e886e7c2"></a><!-- doxytag: member="dbus-keyring.c::_dbus_keyring_validate_context" ref="g5bbeeef1ba831a89d7f0f211e886e7c2" args="(const DBusString *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#g39c9cb0f3a2a8ad6f55cc4855d035349">dbus_bool_t</a> _dbus_keyring_validate_context           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structDBusString.html">DBusString</a> *&nbsp;</td>
          <td class="paramname"> <em>context</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks whether the context is a valid context. 
<p>
Contexts that might cause confusion when used in filenames are not allowed (contexts can't start with a dot or contain dir separators).<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>this is the most inefficient implementation imaginable.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>the context </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group__DBusMacros.html#ga8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> if valid </dd></dl>

<p>
Definition at line <a class="el" href="dbus-keyring_8c-source.html#l00849">849</a> of file <a class="el" href="dbus-keyring_8c-source.html">dbus-keyring.c</a>.
<p>
References <a class="el" href="dbus-string_8c-source.html#l01604">_dbus_string_find()</a>, <a class="el" href="dbus-string_8c-source.html#l01765">_dbus_string_find_blank()</a>, <a class="el" href="dbus-string_8c-source.html#l02450">_dbus_string_validate_ascii()</a>, <a class="el" href="group__DBusMacros.html#ga93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="el" href="group__DBusMacros.html#g070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, and <a class="el" href="group__DBusMacros.html#ga8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>.
<p>
Referenced by <a class="el" href="dbus-keyring_8c-source.html#l00705">_dbus_keyring_new_for_credentials()</a>.
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on 13 Sep 2016 for D-Bus by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
